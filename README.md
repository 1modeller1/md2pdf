# md2pdf

Данное приложение, безусловно, является еще одним велосипедом. Однако прочие способы экспорта markdown из obsidian у меня не работали, поэтому и написал свое решение.
На данный момент оно умеет:
- Экспортировать стандартные элементы, вроде ссылок, заголовков, и прочего.
- Экспортировать mermaid
- Экспортировать уравнения
- Экспортировать графики
- Экспортировать изображения

>Примеры в файле example.md и example.pdf

Приложение работает только на linux, поскольку требует установки сторонних пакетов @mermaid-js/mermaid-cli и xeletex.
Порядок их установки следующий:
```
$ sudo apt install texlive-xetex
$ sudo apt install texlive-full

$ curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
(node.js требуется по крайней мере 20 версии. В моем случае apt по стандарту устанавливал 18)

$ sudo apt install nodejs npm
$ npm install -g @mermaid-js/mermaid-cli
```

Запуск приложения:
```
$ ./md2pdf.sh -s <FileName>.md
```
Опции:

- "-s" для удаления всех промежуточных файлов

---

### Отработка ошибок
При работе скрипта могут возникнуть ошибки, как связанные с некорректной работой самой программы, так и некорректным написанием .md файла (к примеру - если формула не выделена знаками $). В таком случае вы все равно можете прописать `q` в терминале и процесс завершиться и экспортирует md в pdf как сможет.

---

### Настройка запуска
Для запуска скрипта из любой папки на компьютере командой `md2pdf <FileName>` добавьте следующую функцию в `.bashrc`:
```bash
md2pdf () {
        source .../md2pdf/.venv/bin/activate
        python3 .../md2pdf/main.py "$1" "${@:2}"
        deactivate
}
```

### P.S.

Перенос на новую страницу обычно работает автоматически. Но, чтобы указать его явно, напишите `\newline`.
По этой же аналогии работают и все другие команды из latex. Только не забудьте импортировать нужный вам модуль через `parms.txt`, если вдруг возникнет такая необходимость.
